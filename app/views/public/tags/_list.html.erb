<div class="card mb-4 card-tags">
  <div class="card-header bg-light d-flex justify-content-between align-items-center">
    <h5 class="mb-0">
      タグ一覧
      <span class="badge badge-primary badge-pill ml-2">
        <%= @tags.count %> 件
      </span>
    </h5>
  </div>

  <div class="card-body tags-container">
    <% @tags.each_with_index do |tag, idx| %>
      <% tag_name = tag[:tag] %>
      <% active = params[:tag].to_s == tag_name.to_s %>
      <%= link_to search_path(tag: tag_name), class: "tag-chip text-decoration-none #{'active' if active}", style: "--i: #{idx};", 'aria-label': "タグ #{tag_name} を検索" do %>
        <span class="tag-label"><%= tag_name %></span>
        <span class="tag-count" aria-hidden="true"><%= tag[:count] %></span>
      <% end %>
    <% end %>
  </div>
</div>

