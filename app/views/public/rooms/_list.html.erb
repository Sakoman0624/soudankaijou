<% rooms.each do |room| %>
  <div class="col mb-4">
    <div class="card h-100 shadow">
      <% if room.image.attached? %>
          <%= image_tag room.get_image(300,230), class:'card-img-top', style:"height: 180px; object-fit:contain" %>
      <% else %>
        <%= image_tag "room_image.jpg", class:'card-img-top', style:"height: 180px; object-fit:cover" %>
      <% end %>
      <div class="card-body">
        <h5 class="card-title"><%= link_to room.title, room %></h5>
        <div class="muted-text">
          <%= link_to user_path(room.user.id) do %>
            <%= image_tag room.user.get_profile_image(25,25), class:"rounded-circle icon" %>
            <%= room.user.name %>
          <% end %>
        </div>
        <small class="text-end text-left"><%= room.created_at.strftime('%Y/%m/%d') %></small>
        <div>
          コメント数： <%= room.room_comments.count %>
        </div>
      </div>
      
      <div class="card-footer text-end d-md-flex justify-content-md-end">
        <%= link_to "Show", room_path(room), class: 'btn btn-secondary mx-1' %>
        <% if current_user ==  room.user %>
          <%= link_to "Edit", edit_room_path(room), class: 'btn btn-primary mx-1' %>
          <%= link_to "Delete", room_path(room),
        method: :delete, data: { confirm: t('defaults.message.本当に削除しますか') }, class: 'btn btn-danger mx-1' %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
